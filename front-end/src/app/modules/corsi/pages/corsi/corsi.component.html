<div class="page-container">
  <div class="page-header">
    <app-page-title
      [title]="'Corsi'"
      [subtitle]="'Gestione dei corsi disponibili'"
      [buttonText]="'Nuovo Corso'"
      (buttonClick)="gestioneAzione({ tipo: 'add', item: null })"
    ></app-page-title>
  </div>
  
  <div class="page-content" #pageContentInner>
    <!-- Filter Button -->
    <div class="filter-section mb-3">
      <app-filter-button
        [activeFiltersCount]="getActiveFiltersCount()"
        [hasActiveFilters]="hasActiveFilters()"
        (onClick)="openFilterPanel()">
      </app-filter-button>
    </div>

    <!-- Filter Panel -->
    <app-filter-panel
      [filtri]="filtri"
      [valori]="valoriFiltri"
      [isOpen]="isFilterPanelOpen"
      (close)="closeFilterPanel()"
      (applyFilters)="applyFilters($event)"
      (clearFilters)="clearFilters()">
    </app-filter-panel>
    
    <app-tabella-generica 
      [data]="corsiFiltrati" 
      [columns]="columns" 
      [azioni]="actions"
      [pageSize]="pageSize"
      [entityName]="'corsi'"
      (action)="gestioneAzione($event)"
      (paginationInfo)="aggiornaPaginazione($event)">
    </app-tabella-generica>

    <app-pagination-footer
      [currentPage]="paginationInfo.currentPage"
      [totalPages]="paginationInfo.totalPages"
      [pages]="paginationInfo.pages"
      [displayedItems]="paginationInfo.displayedItems"
      [totalItems]="paginationInfo.totalItems"
      [pageSize]="paginationInfo.pageSize"
      [entityName]="paginationInfo.entityName"
      (pageChange)="cambiaPagina($event)">
    </app-pagination-footer>
  </div>
</div>

