import{a as ae}from"./chunk-KD5B2GMS.js";import{d as Q,e as X,f as Y,g as Z,h as ee,l as te,m as ie,n as ne,q as oe}from"./chunk-CFXI2MN7.js";import{b as B,f as H,l as G,m as J,o as T,q as S}from"./chunk-5GV7RPBB.js";import{b as K}from"./chunk-OE42I5PZ.js";import{g as U}from"./chunk-UK3UKNHR.js";import{b as q}from"./chunk-AHKA4FOS.js";import{$a as v,Db as u,Eb as c,Fb as F,Gb as A,Kb as l,La as r,Lb as j,Mb as f,Ob as V,Pb as W,Qb as $,R as z,Ra as x,Sb as R,W as P,Wa as g,X as E,ca as h,da as _,ja as D,kb as O,lb as m,nb as I,ob as N,pb as C,qb as M,rb as k,sb as L,tb as n,ub as a,vb as s,yb as y}from"./chunk-3I64RZE3.js";function fe(e,p){e&1&&s(0,"img",1)}function he(e,p){e&1&&s(0,"img",2)}function _e(e,p){e&1&&(n(0,"a",6),l(1,"Settings"),a())}function ve(e,p){e&1&&(n(0,"a",7),l(1,"Settings"),a())}function Ce(e,p){if(e&1&&(n(0,"a",9),l(1),a()),e&2){let t=c();r(),f("Logout ",t.userName,"")}}function be(e,p){e&1&&(n(0,"a",10),l(1,"Logout"),a())}var re=(()=>{class e{constructor(){this.isLogged=!1,this.userName=""}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["app-avatar"]],inputs:{isLogged:"isLogged",userName:"userName"},decls:13,vars:3,consts:[["data-bs-toggle","dropdown","href","#",1,"dropdown-toggle"],["src","/assets/images/avatars/avatar4.jpg","alt","User","width","35","height","35",1,"img-xs","rounded-circle"],["src","/assets/images/avatars/offline_user.png","alt","User","width","35","height","35",1,"img-xs","rounded-circle"],[1,"dropdown-menu","dropdown-menu-end"],["routerLink","/login",1,"dropdown-item"],["routerLink","/signup",1,"dropdown-item"],["href","#",1,"dropdown-item","disabled"],["routerLink","/user/settings",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/logout",1,"dropdown-item","text-danger"],["routerLink","/logout",1,"dropdown-item","disabled"]],template:function(i,o){i&1&&(n(0,"a",0),v(1,fe,1,0,"img",1)(2,he,1,0,"img",2),a(),n(3,"div",3)(4,"a",4),l(5,"Accedi"),a(),n(6,"a",5),l(7,"Registrati"),a(),v(8,_e,2,0,"a",6)(9,ve,2,0,"a",7),s(10,"hr",8),v(11,Ce,2,1,"a",9)(12,be,2,0,"a",10),a()),i&2&&(r(),C(o.isLogged?1:2),r(7),C(o.isLogged?9:8),r(3),C(o.isLogged?11:12))},dependencies:[S,T],encapsulation:2})}}return e})();var xe=[[["",8,"modal-body-content"]],[["",8,"modal-footer-content"]]],ye=[".modal-body-content",".modal-footer-content"],Se=e=>({show:e}),le=(()=>{class e{constructor(){this.title="",this.isOpen=!1,this.closeModal=new D,this.action=new D}onCloseModal(){this.closeModal.emit()}onActionClick(){this.action.emit()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["app-modal"]],inputs:{title:"title",isOpen:"isOpen"},outputs:{closeModal:"closeModal",action:"action"},ngContentSelectors:ye,decls:12,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal",2,"display","block",3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","sc-primary"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer","d-flex","justify-content-center"],[1,"modal-backdrop","fade","show"]],template:function(i,o){i&1&&(F(xe),n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),l(5),a(),n(6,"button",5),u("click",function(){return o.onCloseModal()}),a()(),n(7,"div",6),A(8),a(),n(9,"div",7),A(10,1),a()()()(),s(11,"div",8)),i&2&&(m("ngClass",R(2,Se,o.isOpen)),r(5),j(o.title))},dependencies:[H,B],styles:[".modal-title[_ngcontent-%COMP%]{color:#000!important}.modal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080}"]})}}return e})();function we(e,p){if(e&1){let t=y();n(0,"app-modal",6),u("closeModal",function(){h(t);let o=c();return _(o.closeModal())}),n(1,"div",7)(2,"span",8),l(3,"Nuove"),a(),n(4,"div",9),s(5,"i",10),n(6,"span",11),l(7,"Nessun servizio disponibile a sistema."),a()(),n(8,"div",12)(9,"span"),l(10,"Da leggere"),a()(),n(11,"div",13),s(12,"i",10),n(13,"span",11),l(14,"Nessun servizio disponibile a sistema."),a()(),n(15,"div",14),s(16,"i",10),n(17,"span",11),l(18,"Nessun servizio disponibile a sistema."),a()()(),n(19,"div",15)(20,"button",16),u("click",function(){h(t);let o=c();return _(o.closeModal())}),l(21," Chiudi "),a()()()}if(e&2){let t=c();m("title",t.modalTitle)}}var se=(()=>{class e{constructor(){this.notCount=0,this.isOpenModal=!1,this.modalTitle=""}openModal(){this.isOpenModal=!0,this.modalTitle="Notifiche"}closeModal(){this.isOpenModal=!1}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["app-notification"]],inputs:{notCount:[0,"count","notCount"]},decls:7,vars:2,consts:[[1,"bell"],[1,"bell-button",3,"click"],[1,"material-icons","md-notifications_active"],[1,"bell__count"],[1,"bell__count__digits"],[3,"title"],[3,"closeModal","title"],[1,"modal-body-content"],[1,"section-title"],["role","alert",1,"alert","alert-warning","mt-3","text-center"],[1,"fas","fa-exclamation-triangle"],[1,"ms-2"],[1,"separator"],["role","alert",1,"alert","alert-danger","mt-3","text-center"],["role","alert",1,"alert","alert-info","mt-3","text-center"],[1,"modal-footer-content"],["type","button",1,"btn","btn-secondary","btn-sm","me-2",3,"click"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"button",1),u("click",function(){return o.openModal()}),s(2,"i",2),a(),n(3,"div",3)(4,"div",4),l(5),a()()(),v(6,we,22,1,"app-modal",5)),i&2&&(r(5),f(" ",o.notCount," "),r(),C(o.isOpenModal?6:-1))},dependencies:[le],styles:[".bell[_ngcontent-%COMP%]{position:relative}.bell[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#3a3a3a}.bell__count[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background-color:red;color:#fff;font-size:12px;font-weight:700;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center}.bell-button[_ngcontent-%COMP%]{background:none;border:none;padding:0;cursor:pointer}"]})}}return e})();var ce=(()=>{class e{constructor(){this.translate=E(q),this.defaultLang="it";let t=sessionStorage.getItem("Language")||this.defaultLang;this.translate.setDefaultLang(this.defaultLang),this.translate.use(t)}getCurrentLanguage(){return this.translate.currentLang}changeLanguage(t){this.translate.use(t),sessionStorage.setItem("Language",t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var de=(()=>{class e{constructor(){this.languageService=E(ce),this.currentLang=this.languageService.getCurrentLanguage()}changeLanguage(t){let i=t.target.value;i&&(this.languageService.changeLanguage(i),this.currentLang=i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["app-language-selector"]],decls:9,vars:1,consts:[[1,"d-flex","align-items-center","gap-2"],["for","language",1,"fw-bold","text-muted"],[1,"position-relative"],["id","language",1,"form-select","shadow-sm","border-primary","fw-semibold",3,"change","value"],["value","it"],["value","en"]],template:function(i,o){i&1&&(n(0,"form",0)(1,"label",1),l(2," \u{1F30D} Lingua: "),a(),n(3,"div",2)(4,"select",3),u("change",function(w){return o.changeLanguage(w)}),n(5,"option",4),l(6,"\u{1F1EE}\u{1F1F9} Italiano"),a(),n(7,"option",5),l(8,"\u{1F1EC}\u{1F1E7} English"),a()()()()),i&2&&(r(4),m("value",o.currentLang))},encapsulation:2})}}return e})();function Me(e,p){if(e&1&&(n(0,"option",5),l(1),a()),e&2){let t=p.$implicit;m("value",t.shopId),r(),f(" ",t.shopName," ")}}var me=(()=>{class e{constructor(t){this.negozioService=t,this.negozi=[],this.negozioAttivo=null,this.negozioAttivoId=null}ngOnInit(){this.negozioService.caricaNegozi(),this.negozioService.getNegoziDisponibili().subscribe(t=>{this.negozi=t}),this.negozioService.getNegozioCorrente().subscribe(t=>{this.negozioAttivo=t,this.negozioAttivoId=t?.shopId??null})}switchNegozio(){let t=this.negozi.find(i=>i.shopId===this.negozioAttivoId);t&&this.negozioService.switchNegozio(t)}static{this.\u0275fac=function(i){return new(i||e)(x(ae))}}static{this.\u0275cmp=g({type:e,selectors:[["app-negozio-switcher"]],decls:8,vars:1,consts:[[1,"d-flex","align-items-center","gap-2"],["for","language",1,"fw-bold","text-muted","d-flex","align-items-center","gap-1"],[1,"fas","fa-store","text-primary"],[1,"position-relative"],["name","negozio",1,"form-select","shadow-sm","border-primary","fw-semibold",3,"ngModelChange","change","ngModel"],[3,"value"]],template:function(i,o){i&1&&(n(0,"form",0)(1,"label",1),s(2,"i",2),l(3," Negozio: "),a(),n(4,"div",3)(5,"select",4),$("ngModelChange",function(w){return W(o.negozioAttivoId,w)||(o.negozioAttivoId=w),w}),u("change",function(){return o.switchNegozio()}),k(6,Me,2,2,"option",5,M),a()()()),i&2&&(r(5),V("ngModel",o.negozioAttivoId),r(),L(o.negozi))},dependencies:[oe,ee,ie,ne,te,Q,X,Z,Y],encapsulation:2})}}return e})();var pe=(()=>{class e{constructor(t){this.BasicAuth=t,this.count=1}static{this.\u0275fac=function(i){return new(i||e)(x(K))}}static{this.\u0275cmp=g({type:e,selectors:[["app-header"]],decls:11,vars:2,consts:[[1,"navbar","navbar-expand-lg","sc-primary","fixed-top","shadow-sm"],[1,"container-fluid","d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["src","../../../assets/images/SmartControl_logo.jpg","alt","Logo","width","44","height","44",1,"me-3","shadow-sm",2,"border-radius","50%","object-fit","cover"],[1,"navbar-brand","logo_name","fw-bold","fs-4","d-none","d-md-inline"],[1,"d-flex","align-items-center","gap-3"],[3,"isLogged","userName"]],template:function(i,o){i&1&&(n(0,"nav",0)(1,"div",1)(2,"div",2),s(3,"img",3),n(4,"span",4),l(5,"Smart Control"),a()(),n(6,"div",5),s(7,"app-negozio-switcher")(8,"app-language-selector")(9,"app-notification")(10,"app-avatar",6),a()()()),i&2&&(r(10),m("isLogged",o.BasicAuth.isLogged())("userName",o.BasicAuth.loggedUser()))},dependencies:[re,se,de,me,S],styles:["img[_ngcontent-%COMP%]{display:inline-block}.dduser[_ngcontent-%COMP%]{margin-right:50px;margin-left:20px}.nav[_ngcontent-%COMP%]{align-items:center}.col-nav[_ngcontent-%COMP%]{display:flex;align-items:center;border-right:10px;border-left:10px}.btn-mobile[_ngcontent-%COMP%]{display:none}.btn-icon[_ngcontent-%COMP%]{text-align:center;padding-left:.5em;padding-right:.5em}.nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{border-radius:.25rem;color:#adb5bd;display:block;text-decoration:none}.search[_ngcontent-%COMP%]{border-right:10px}.logo_name[_ngcontent-%COMP%]{font-size:22px;color:#333;font-weight:500px;transition:all .3s ease;font-family:Nome del font,Lucida Handwriting;font-weight:700}"]})}}return e})();var ge=(()=>{class e{constructor(t){this.httpClient=t,this.getSaluti=i=>this.httpClient.get("http://localhost:8050/api/saluti/"+i)}static{this.\u0275fac=function(i){return new(i||e)(P(U))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Le(e,p){if(e&1){let t=y();n(0,"div",12),u("click",function(){let o=h(t).$implicit,d=c(3);return _(d.selectLink(o))})("keydown.enter",function(){let o=h(t).$implicit,d=c(3);return _(d.selectLink(o))}),n(1,"div",1)(2,"div",13)(3,"a",14),l(4),a()(),n(5,"div",15)(6,"div"),s(7,"i"),a()()()()}if(e&2){let t=p.$implicit,i=c(3);I("selected",i.selectedLink===t),m("routerLink",t.url),r(4),f(" ",t.label," "),r(3),N(t.icon)}}function ze(e,p){if(e&1){let t=y();n(0,"h2",7)(1,"button",8),u("click",function(){h(t);let o=c().$index,d=c();return _(d.toggleAccordion(o))}),s(2,"i",9),l(3),a()(),n(4,"div",10),k(5,Le,8,6,"div",11,M),a()}if(e&2){let t=c(),i=t.$implicit,o=t.$index,d=c();m("id","panelsStayOpen"+o),r(),I("collapsed",!d.isOpen[o]),O("data-bs-target","#collapse"+o)("aria-controls","collapse"+o),r(),N(i.icon),r(),f(" ",i.title," "),r(),m("id","collapse"+o),O("aria-labelledby","heading"+o),r(),L(i.links)}}function Ee(e,p){if(e&1){let t=y();n(0,"h2",6)(1,"button",16),u("click",function(){h(t);let o=c().$implicit,d=c();return _(d.selectLink(o.links[0]))}),s(2,"i",9),l(3),a()()}if(e&2){let t=c(),i=t.$implicit,o=t.$index,d=c();r(),I("collapsed",!d.isOpen[o]),m("routerLink",i.links[0].url),O("data-bs-target","#collapse"+o)("aria-controls","collapse"+o),r(),N(i.icon),r(),f(" ",i.title," ")}}function Oe(e,p){if(e&1&&(n(0,"div",4),v(1,ze,7,10)(2,Ee,4,8,"h2",6),a()),e&2){let t=p.$implicit;r(),C(t.links.length>1?1:2)}}var dt=(()=>{class e{constructor(t,i){this.route=t,this.salutiSrv=i,this.menuItems=[{title:"Home",icon:"fa-solid fa-house-user fa-xl",links:[{label:"Dashboard",url:"dashboard",icon:"fa-solid fa-house-user fa-lg"}]},{title:"Negozio",icon:"fa-solid fa-basket-shopping fa-xl",links:[{label:"Dipendenti",url:"employees-management",icon:"fa-solid fa-users fa-lg"},{label:"Clienti",url:"customers-management",icon:"fa-solid fa-user-tie fa-lg"},{label:"Servizi",url:"services-management",icon:"fa-solid fa-person-booth fa-lg"}]},{title:"Magazzino",icon:"fa-solid fa-warehouse fa-lg",links:[{label:"Scanner Prodotti",url:"product-scanner",icon:"fa-solid fa-barcode fa-lg"},{label:"Sommario magazzino",url:"summary-warehouse",icon:"fa-solid fa-warehouse fa-lg"}]},{title:"Appuntamenti",icon:"fa-solid fa-calendar fa-xl",links:[{label:"Agenda",url:"appointment-calendar",icon:"fa-solid fa-calendar-days fa-lg"},{label:"Messaggi automatici",url:"manage-automatic-message",icon:"fa-solid fa-comment-sms fa-lg"}]},{title:"Vendite",icon:"fa-solid fa-cash-register fa-xl",links:[{label:"Cassa",url:"cash-register",icon:"fa-solid fa-cash-register fa-lg"},{label:"Registro giornaliero",url:"sales-register",icon:"fa-solid fa-book fa-lg"},{label:"Archivio",url:"sales-archive",icon:"fa-solid fa-box-archive fa-lg"}]},{title:"Statistiche",icon:"fa-solid fa-chart-line fa-lg",links:[{label:"Andamento negozio",url:"shop-performance",icon:"fa-solid fa-chart-line fa-lg"},{label:"Andamento personale (dipendenti)",url:"staff-performance",icon:"fa-solid fa-users fa-lg"}]}],this.isOpen=[],this.selectedLink=null,this.utente="",this.titolo="Benvenuti in Smart Control",this.sottotitolo="Visualizza le offerte del giorno",this.saluti="",this.errore="",this.getSaluti=()=>{this.salutiSrv.getSaluti(this.utente).subscribe({next:this.handleResponse.bind(this),error:this.handleError.bind(this)})}}ngOnInit(){this.isOpen=Array(this.menuItems.length).fill(!1),this.utente=this.route.snapshot.params.userid}handleResponse(t){this.saluti=t.toString()}handleError(t){console.log(t),this.errore=t.error.message}toggleAccordion(t){this.isOpen[t]=!this.isOpen[t]}selectLink(t){this.selectedLink=t}static{this.\u0275fac=function(i){return new(i||e)(x(G),x(ge))}}static{this.\u0275cmp=g({type:e,selectors:[["app-welcome"]],decls:10,vars:0,consts:[[1,"container-fluid",2,"margin-top","60px"],[1,"row"],[1,"col-lg-2","p-0",2,"background-color","#6aaad8","height","calc(100vh - 60px)",`/* altezza meno header */
        overflow-y`,"auto"],["id","sidebarAccordion",1,"accordion","accordion-flush","mb-5"],[1,"accordion-item"],[1,"col-lg-10","mt-3"],["id","homeBtn",1,"accordion-header",2,"--bs-accordion-btn-icon","none"],[1,"accordion-header",3,"id"],["type","button","data-bs-toggle","collapse","aria-expanded","false","data-bs-disable-animation","true",1,"accordion-button","d-flex","align-items-center",2,"color","white","background-color","#6aaad8",3,"click"],[2,"margin-right","20px"],[1,"accordion-collapse","collapse",3,"id"],["tabindex","0",1,"accordion-body","sc-secondary","border",2,"cursor","pointer",3,"selected","routerLink"],["tabindex","0",1,"accordion-body","sc-secondary","border",2,"cursor","pointer",3,"click","keydown.enter","routerLink"],[1,"col-10"],[2,"text-decoration","none","color","black"],[1,"col-2","d-flex","justify-content-end"],["type","button","data-bs-toggle","collapse","aria-expanded","false","data-bs-disable-animation","true",1,"accordion-button","d-flex","align-items-center",2,"color","white","background-color","#6aaad8",3,"click","routerLink"]],template:function(i,o){i&1&&(s(0,"app-header"),n(1,"div",0)(2,"div",1)(3,"div",2)(4,"aside")(5,"div",3),k(6,Oe,3,1,"div",4,M),a()()(),n(8,"div",5),s(9,"router-outlet"),a()()()),i&2&&(r(6),L(o.menuItems))},dependencies:[S,J,T,pe],styles:[".accordion-button[_ngcontent-%COMP%]:focus{box-shadow:none!important}.no-arrow[_ngcontent-%COMP%]:after{display:none!important}.accordion-button[_ngcontent-%COMP%]:after{color:#fff;filter:invert(1)}.accordion-collapse[_ngcontent-%COMP%]{transition:height .3s ease}.accordion[_ngcontent-%COMP%]{border-width:0!important}.accordion-body.selected[_ngcontent-%COMP%]{background-color:#add7f6!important;color:#fff}"]})}}return e})();export{dt as WelcomeComponent};
